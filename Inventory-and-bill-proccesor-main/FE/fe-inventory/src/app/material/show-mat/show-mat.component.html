
<!-- Button trigger modal -->

<button (click)="filedownload2()">click</button>
<button type="button" class="btn btn-primary float-end m-2" 
data-toggle="modal" data-target="#newMaterialModal"
(click)="newClick()"
data-backdrop="static" data-keyboard="false"
>
    Material nou
  </button>

  <div class="d-flex flex-row " style="margin: 8px;" >
    <input [(ngModel)]="MaterialNameFilter" class="form-control"
    (keyup)="FilterFn()" placeholder="Cauta material">
  </div>  

  <!-- adauga material nou modal -->
  <div class="modal fade" id="newMaterialModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newMaterialModalLabel">
            Adauga material nou </h5>
          <button type="button" class="close" 
          data-dismiss="modal" aria-label="Close"
          (click)="closeClick()" >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <app-new-mat [mat]="mat" *ngIf="ActivateNewMatComp">
            </app-new-mat>
            
        </div>
      </div>
    </div>
    
  </div>

  <!-- adauga in material modal -->
  <div class="modal fade" id="addMaterialModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header bg-primary">
          <h5 class="modal-title" id="addMaterialModalLabel">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
              <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>
            Adauga material</h5>
          <button type="button" class="close" 
          data-dismiss="modal" aria-label="Close"
          (click)="closeClick()" >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <app-add-mat [mat]="mat" *ngIf="ActivateAddMatComp">
            </app-add-mat>
            
        </div>
      </div>
    </div>
  </div>

  <!-- scoate material modal -->
  <div class="modal fade" id="removeMaterialModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header bg-warning" >
          <h5 class="modal-title" id="removeMaterialModalLabel">            
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
              <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
              </svg>
                Scade materiale</h5>
          <button type="button" class="close" 
          data-dismiss="modal" aria-label="Close"
          (click)="closeClick()" >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <app-remove-mat [mat]="mat" *ngIf="ActivateRemoveMatComp">
            </app-remove-mat>
            
        </div>
      </div>
    </div>
  </div>

    <!-- furnizor modal -->


    <div class="modal fade" id="providerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Furnizor matereial</h5>
            <button type="button" class="close" 
            data-dismiss="modal" aria-label="Close"
            (click)="closeClick()" >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              <app-show-provider [mat]="mat" *ngIf="ActivateProvider">
              </app-show-provider>
              
          </div>
        </div>
      </div>
    </div>


  

  <table class="table table-striped">
    
    <thead>
        
        <tr>
            <th>Nume material</th>
            <th>U.M.</th>
            <th>Nr de U.M.</th>
            <th>Cantitatea</th>
            <th>Optiuni</th>
            <th>Vezi Furnizor</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let dataItem of MaterialList"  >
            <td>{{dataItem.MaterialName}}</td>
            <td>{{dataItem.UnityOfMesurment}} </td>
            <td>{{dataItem.Amount}} {{dataItem.UnityOfMesurment}}</td>
            <td>{{dataItem.Quantity}}  {{dataItem.TypeOfUnityOfMesurment}}</td>
            <td>

              <div class="btn-group">
                <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Actiuni
                </button>
                <div class="dropdown-menu">
                  <a class="dropdown-item" data-toggle="modal" data-target="#removeMaterialModal"
                  (click)="removeClick(dataItem)"
                  data-backdrop="static" data-keyboard="false"
                  style="margin: 2px;">Scade</a>
                  
                  <a class="dropdown-item" data-toggle="modal" data-target="#addMaterialModal"
                  (click)="addClick(dataItem)"
                  data-backdrop="static" data-keyboard="false"
                  style="margin: 2px;"> Adauga</a>

                  <a class="dropdown-item" 
                  (click)="deleteClick(dataItem)"
                  data-backdrop="static" data-keyboard="false"
                  style="margin: 2px;"> Sterge</a>

                </div>
              </div>
            </td>
            <td >
              <div>

                <button type="button" class="btn btn-primary mr-1"
                data-toggle="modal" data-target="#providerModal"
                (click)="showProvider(dataItem)"
                data-backdrop="static" data-keyboard="false"
                style="margin: 2px;"
                >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shop" viewBox="0 0 16 16">
                  <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"/>
                </svg>
                </button>

              </div>

            </td>

        </tr >
    </tbody>
</table>


